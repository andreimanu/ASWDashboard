<html xmlns:th="http://www.thymeleaf.org">
<head>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script
	src="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/bootstrap/bootstrap-dropdown.js"></script>
<script>
     $(document).ready(function(){
        $('.dropdown-toggle').dropdown()
    });
</script>
<link rel="stylesheet" href="../static/css/common.css" />
<link href="css/common.css" rel="stylesheet" />
</head>
<body>
	<script th:inline="javascript">
/*<![CDATA[*/

    var message = [[${refresh}]];
    if(message == true) location.reload(true);

/*]]>*/
</script>
	<div class="container">
		<div class="row">
			<div class="col-xs-6">
				<div class="table-responsive" align="left">
					<h2 align="center">List of proposals</h2>
					<table class="table table-bordered">
						<thead>
							<tr>
								<th>Title</th>
								<th>Comments</th>
								<th>Ratio</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="p : ${allProposals}">
								<td th:text="${p.getTitle()}"></td>
								<td><a th:href="${'/commentProposal/' + p.getId()}"
									class="btn btn-info" th:id="${p.getId()}">See comments</a></td>
								<td th:text="${p.getRatio()}"></td>
								<td><a th:href="${'/select/' + p.getId()}"
									class="btn btn-info" th:id="${p.getId()}">Select</a></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
			<div align="right" class="col-xs-6">
				<div class="dropdown">
					<button class="btn btn-default dropdown-toggle" type="button"
						id="menu1" data-toggle="dropdown">
						Order By <span class="caret"></span>
					</button>
					<ul class="dropdown-menu" role="menu" aria-labelledby="menu1">
						<li role="presentation"><a role="menuitem" tabindex="-1"
							th:href="${'/orderByDate/'}">Date</a></li>
						<li role="presentation"><a role="menuitem" tabindex="-1"
							th:href="${'/orderByPopularity/'}">Popularity</a></li>
						<li role="presentation"><a role="menuitem" tabindex="-1"
							th:href="${'/orderByRatio/'}">Ratio</a></li>
						<li role="presentation"><a role="menuitem" tabindex="-1"
							th:href="${'/orderNone/'}">None</a></li>
					</ul>
				</div>
				<h2 align="center">Statistics</h2>
				<a th:href="${'/deselect/'}" class="btn btn-info">General
					Statistics</a>
				<h2 align="center">Male/Female votes</h2>
				<div class="progress">
					<div class="progress-bar progress-bar-success" role="progressbar"
						aria-valuenow="${selected.getMaleVotes()}" aria-valuemin="0"
						aria-valuemax="100"
						th:style="'width:'+ ${selected.getMaleVotes()}+'%;'"
						th:text=" ${selected.getMaleVotes().toString()}"></div>
				</div>
				<div class="progress">
					<div class="progress-bar progress-bar-danger" role="progressbar"
						aria-valuenow="${selected.getFemaleVotes()}" aria-valuemin="0"
						aria-valuemax="100"
						th:style="'width:'+ ${selected.getFemaleVotes()}+'%;'"
						th:text=" ${selected.getFemaleVotes().toString()}"></div>
				</div>
				<h2 align="center">Male Votes</h2>
				<div class="progress">
					<div class="progress-bar progress-bar-success" role="progressbar"
						aria-valuenow="${selected.getPositiveMaleVotes()}"
						aria-valuemin="0" aria-valuemax="100"
						th:style="'width:'+ ${selected.getPositiveMaleVotes()} + '%;'"
						th:text=" ${selected.getPositiveMaleVotes().toString()}"></div>
				</div>
				<div class="progress">
					<div class="progress-bar progress-bar-danger" role="progressbar"
						aria-valuenow="${selected.getNegativeMaleVotes()}"
						aria-valuemin="0" aria-valuemax="100"
						th:style="'width:'+ ${selected.getNegativeMaleVotes()} + '%;'"
						th:text=" ${selected.getNegativeMaleVotes().toString()}"></div>
				</div>
				<h2 align="center">Female Votes</h2>
				<div class="progress">
					<div class="progress-bar progress-bar-success" role="progressbar"
						aria-valuenow="${selected.getPositiveFemaleVotes()}"
						aria-valuemin="0" aria-valuemax="100"
						th:style="'width:'+ ${selected.getPositiveFemaleVotes()} + '%;'"
						th:text=" ${selected.getPositiveFemaleVotes().toString()}"></div>
				</div>
				<div class="progress">
					<div class="progress-bar progress-bar-danger" role="progressbar"
						aria-valuenow="${selected.getNegativeFemaleVotes()}"
						aria-valuemin="0" aria-valuemax="100"
						th:style="'width:'+ ${selected.getNegativeFemaleVotes()} + '%;'"
						th:text=" ${selected.getNegativeFemaleVotes().toString()}"></div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>